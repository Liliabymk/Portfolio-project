<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <style>
        .project-detail {
            padding: 4rem 2rem;
            min-height: 80vh;
        }

        .project-detail-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 2rem;
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .back-btn:hover {
            color: var(--tertiary-color);
        }

        .project-detail h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 2rem;
        }

        .project-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .project-meta .tag {
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
        }

        .project-status {
            display: inline-block;
            background-color: var(--secondary-color);
            color: var(--white);
            padding: 0.75rem 1.5rem;
            border-radius: 20px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .video-container {
            margin: 3rem 0;
            background-color: var(--light-bg);
            padding: 2rem;
            border-radius: 8px;
        }

        .video-container h2 {
            color: var(--tertiary-color);
            margin-bottom: 1rem;
        }

        /* Large project image shown on detail page */
        #projectImageContainer {
            width: 100%;
            max-width: 900px;
            margin: 0 auto 1.5rem auto;
            text-align: center;
        }

        #projectImageContainer img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: var(--shadow);
            object-fit: cover;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 8px;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .no-video {
            background-color: var(--light-bg);
            padding: 2rem;
            text-align: center;
            color: var(--text-color);
            border-radius: 8px;
        }

        .description {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
            line-height: 1.8;
            border-left: 5px solid var(--secondary-color);
        }

        .description h2 {
            color: var(--tertiary-color);
            margin-bottom: 1rem;
        }

        #projectDescription {
            color: var(--text-color);
            font-size: 1rem;
        }

        .coming-soon-message {
            background-color: #FFF9E6;
            border-left: 4px solid var(--secondary-color);
            padding: 1.5rem;
            border-radius: 4px;
            margin: 2rem 0;
        }

        .coming-soon-message h3 {
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }

        .coming-soon-message p {
            color: var(--text-color);
        }

        @media (max-width: 768px) {
            .project-detail {
                padding: 2rem 1rem;
            }

            .project-detail h1 {
                font-size: 1.8rem;
            }

            .project-meta {
                gap: 0.5rem;
            }

            .video-container {
                padding: 1rem;
            }

            .description {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">My Portfolio</div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="projects.html" class="nav-link active">Projects</a></li>
            </ul>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Project Detail Section -->
    <section class="project-detail">
        <div class="project-detail-container">
            <a href="projects.html" class="back-btn">‚Üê Back to Projects</a>
            
            <h1 id="projectTitle">Loading...</h1>
            <div id="projectImageContainer"></div>
            
            <div class="project-meta" id="projectMeta">
                <!-- Project tags and status will be inserted here -->
            </div>

            <!-- Video Section 1 -->
            <div class="video-container" id="videoSection">
                <h2 id="videoTitle1">Project Demo</h2>
                <div id="videoContent" class="no-video">
                    <p>No video available for this project yet.</p>
                </div>
            </div>

            <!-- Video Section 2 -->
            <div class="video-container" id="videoSection2" style="display: none;">
                <h2 id="videoTitle2">Additional Content 1</h2>
                <div id="videoContent2" class="no-video">
                    <p>No video available for this section yet.</p>
                </div>
            </div>

            <!-- Video Section 3 -->
            <div class="video-container" id="videoSection3" style="display: none;">
                <h2 id="videoTitle3">Additional Content 2</h2>
                <div id="videoContent3" class="no-video">
                    <p>No video available for this section yet.</p>
                </div>
            </div>

            <!-- Description Section -->
            <div class="description" id="descriptionSection">
                <h2>About This Project</h2>
                <p id="projectDescription">Loading project details...</p>
            </div>

            <!-- Coming Soon Message -->
            <div id="comingSoonSection" style="display: none;">
                <div class="coming-soon-message">
                    <h3>üöÄ Coming Soon</h3>
                    <p>This project is currently in development. Check back soon for more details and a working demo!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="social-links">
                <a href="https://github.com/Liliabymk" class="social-icon" title="GitHub">
                    <img src="assets/icons/github.svg" alt="GitHub">
                </a>
                <a href="https://www.codecademy.com/profiles/Lilia-blog3943969239" class="social-icon" title="Codecademy">
                    <img src="assets/icons/codecademy.svg" alt="Codecademy">
                </a>
            </div>
            <p>&copy; 2025 My Portfolio. <a href="https://github.com/Liliabymk/Liliabymk.github.io.git">View on GitHub</a></p>
        </div>
    </footer>

    <script src="js/navigation.js"></script>
    <script>
        // Get project ID from URL parameter
        function getProjectId() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id');
        }

        // Load project details
        async function loadProjectDetails() {
            const projectId = getProjectId();
            
            try {
                const response = await fetch('data/projects.json');
                const projects = await response.json();
                const project = projects.find(p => p.id == projectId);

                if (!project) {
                    document.querySelector('.project-detail-container').innerHTML = '<p>Project not found.</p>';
                    return;
                }

                // Update title
                document.getElementById('projectTitle').textContent = project.title;

                // Show project image if available
                const imgContainer = document.getElementById('projectImageContainer');
                if (project.image && project.image.trim()) {
                    imgContainer.innerHTML = `<img src="${project.image}" alt="${project.title}">`;
                } else {
                    imgContainer.innerHTML = '';
                }

                // Update meta (tags and status)
                let metaHTML = '';
                if (project.tags && project.tags.length > 0) {
                    metaHTML += '<div class="project-meta">' +
                        project.tags.map(tag => `<span class="tag">${tag}</span>`).join('') +
                        '</div>';
                }
                if (project.status === 'coming-soon') {
                    metaHTML += '<div class="project-status">Coming Soon</div>';
                }
                document.getElementById('projectMeta').innerHTML = metaHTML;

                // Update video section
                const videoContent = document.getElementById('videoContent');
                const videoTitle1 = document.getElementById('videoTitle1');
                // set heading from project data or fallback
                if (videoTitle1) videoTitle1.textContent = project.videoTitle || 'Project Demo';
                if (project.videoUrl && project.videoUrl.trim()) {
                    videoContent.innerHTML = `<div class="video-wrapper"><iframe src="${project.videoUrl}" allowfullscreen></iframe></div>`;
                }

                // Update video section 2
                const videoSection2 = document.getElementById('videoSection2');
                const videoContent2 = document.getElementById('videoContent2');
                const videoTitle2 = document.getElementById('videoTitle2');
                if (videoTitle2) videoTitle2.textContent = project.videoTitle2 || 'Additional Content 1';
                if (project.videoUrl2 && project.videoUrl2.trim()) {
                    videoContent2.innerHTML = `<div class="video-wrapper"><iframe src="${project.videoUrl2}" allowfullscreen></iframe></div>`;
                    videoSection2.style.display = 'block';
                } else {
                    videoSection2.style.display = 'none';
                }

                // Update video section 3
                const videoSection3 = document.getElementById('videoSection3');
                const videoContent3 = document.getElementById('videoContent3');
                const videoTitle3 = document.getElementById('videoTitle3');
                if (videoTitle3) videoTitle3.textContent = project.videoTitle3 || 'Additional Content 2';
                if (project.videoUrl3 && project.videoUrl3.trim()) {
                    videoContent3.innerHTML = `<div class="video-wrapper"><iframe src="${project.videoUrl3}" allowfullscreen></iframe></div>`;
                    videoSection3.style.display = 'block';
                } else {
                    videoSection3.style.display = 'none';
                }

                // Update description
                document.getElementById('projectDescription').textContent = project.fullDescription;

                // Show coming soon message if applicable
                if (project.status === 'coming-soon') {
                    document.getElementById('comingSoonSection').style.display = 'block';
                }
            } catch (error) {
                console.error('Error loading project details:', error);
                document.querySelector('.project-detail-container').innerHTML = '<p>Error loading project details.</p>';
            }
        }

        // Load project details when page loads
        document.addEventListener('DOMContentLoaded', loadProjectDetails);
    </script>
</body>
</html>
